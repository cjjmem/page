<!DOCTYPE html>
<html lang="en">

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Browsersync实时代码监控工具</title>
  <meta name="description" content="BrowserSync">

  <link rel="stylesheet" href="/assets/main.css">
  <link rel="canonical" href="http://localhost:4000/jekyll/update/2017/05/19/browsersync.html">
  <link rel="alternate" type="application/rss+xml" title="小浪Blog" href="/feed.xml">
  
  
</head>


  <body>

    <header class="site-header" role="banner">

  <div class="wrapper">
    
    
    <a class="site-title" href="/">小浪Blog</a>
  
    
      <nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"/>
              <path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"/>
              <path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger">
          
            
            
            <a class="page-link" href="/about/">关于我</a>
            
          
            
            
          
            
            
            <a class="page-link" href="/resume/">我的简历</a>
            
          
            
            
          
            
            
          
        </div>
      </nav>
    
  </div>
</header>


    <main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title" itemprop="name headline">Browsersync实时代码监控工具</h1>
    <p class="post-meta">
      <time datetime="2017-05-19T18:09:03+08:00" itemprop="datePublished">
        
        May 19, 2017
      </time>
      </p>
  </header>

  <div class="post-content" itemprop="articleBody">
    <h1 id="browsersync">BrowserSync</h1>

<p>Browsersync能让浏览器实时、快速响应您的文件更改（html、js、css、sass、less等）并自动刷新页面</p>

<h2 id="安装">安装</h2>

<h3 id="nodejs">nodejs</h3>
<p>下载<a href="http://nodejs.org/download/">nodejs download</a></p>

<h3 id="browsersync-1">BrowserSync</h3>

<p>全局安装</p>
<pre><code class="language-ssh">npm install -g browser-sync
</code></pre>

<p>项目安装</p>
<pre><code class="language-ssh">npm install --save-dev browser-sync
</code></pre>
<h2 id="启动">启动</h2>

<p>监控所有js\css\html文件</p>
<pre><code class="language-ssh">browser-sync start --server --files "**/*.css, **/*.html"
</code></pre>
<p>启动后直接访问 http://localhost:3000</p>

<h3 id="packagejson文件">package.json文件</h3>
<p>有时候为了方便启动BrowserSync进行代码监控可以把命令写在package.json文件中</p>
<div class="language-js highlighter-rouge"><pre class="highlight"><code><span class="p">{</span>
  <span class="s2">"name"</span><span class="err">:</span> <span class="s2">"carousel-js-css"</span><span class="p">,</span>
  <span class="s2">"version"</span><span class="err">:</span> <span class="s2">"1.0.0"</span><span class="p">,</span>
  <span class="s2">"main"</span><span class="err">:</span> <span class="s2">"index.js"</span><span class="p">,</span>
  <span class="s2">"scripts"</span><span class="err">:</span> <span class="p">{</span>
    <span class="s2">"sync"</span><span class="err">:</span><span class="s2">"browser-sync start --server --files **/*.css, **/*.html"</span><span class="p">,</span>
    <span class="s2">"syncs"</span><span class="err">:</span><span class="s2">"browser-sync start --server --files css/*.css, *.html"</span><span class="p">,</span>
    <span class="s2">"test"</span><span class="err">:</span> <span class="s2">"echo \"Error: no test specified\" &amp;&amp; exit 1"</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre>
</div>
<h3 id="轮播项目实战">轮播项目实战</h3>

<h4 id="目录结构">目录结构</h4>

<div class="language-js highlighter-rouge"><pre class="highlight"><code><span class="o">-</span> <span class="nx">assets</span>
    <span class="o">-</span> <span class="nx">js</span>
        <span class="nx">index</span><span class="p">.</span><span class="nx">js</span>
    <span class="o">-</span> <span class="nx">css</span>
        <span class="o">-</span> <span class="nx">demo</span><span class="p">.</span><span class="nx">css</span>
<span class="o">-</span> <span class="nx">index</span><span class="p">.</span><span class="nx">html</span>
<span class="o">-</span> <span class="kr">package</span><span class="p">.</span><span class="nx">json</span>
</code></pre>
</div>

<ul>
  <li>配置文件</li>
</ul>

<p>package.json</p>

<div class="language-js highlighter-rouge"><pre class="highlight"><code><span class="p">{</span>
  <span class="s2">"name"</span><span class="err">:</span> <span class="s2">"carousel-js-css"</span><span class="p">,</span>
  <span class="s2">"version"</span><span class="err">:</span> <span class="s2">"1.0.0"</span><span class="p">,</span>
  <span class="s2">"description"</span><span class="err">:</span> <span class="s2">""</span><span class="p">,</span>
  <span class="s2">"main"</span><span class="err">:</span> <span class="s2">"index.js"</span><span class="p">,</span>
  <span class="s2">"scripts"</span><span class="err">:</span> <span class="p">{</span>
    <span class="s2">"sync"</span><span class="err">:</span><span class="s2">"browser-sync start --server --files **/*.css, **/*.html"</span><span class="p">,</span>
    <span class="s2">"syncs"</span><span class="err">:</span><span class="s2">"browser-sync start --server --files 'css/*.css, *.html'"</span><span class="p">,</span>
    <span class="s2">"test"</span><span class="err">:</span> <span class="s2">"echo \"Error: no test specified\" &amp;&amp; exit 1"</span>
  <span class="p">},</span>
  <span class="s2">"author"</span><span class="err">:</span> <span class="s2">"cjjmem"</span><span class="p">,</span>
  <span class="s2">"license"</span><span class="err">:</span> <span class="s2">"ISC"</span><span class="p">,</span>
  <span class="s2">"devDependencies"</span><span class="err">:</span> <span class="p">{</span>
    <span class="s2">"browser-sync"</span><span class="err">:</span> <span class="s2">"^2.18.11"</span>
  <span class="p">}</span>
<span class="p">}</span>

</code></pre>
</div>

<ul>
  <li>静态文件</li>
</ul>

<p>index.html</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="nt">&lt;html</span> <span class="na">lang=</span><span class="s">"en"</span><span class="nt">&gt;</span>
<span class="nt">&lt;head&gt;</span>
    <span class="nt">&lt;meta</span> <span class="na">charset=</span><span class="s">"UTF-8"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;title&gt;</span>轮播示列<span class="nt">&lt;/title&gt;</span>
    <span class="nt">&lt;link</span> <span class="na">rel=</span><span class="s">"stylesheet"</span> <span class="na">href=</span><span class="s">"assets/css/demo.css"</span><span class="nt">&gt;</span>
<span class="nt">&lt;/head&gt;</span>
<span class="nt">&lt;body&gt;</span>
<span class="nt">&lt;h2&gt;</span>Js实现<span class="nt">&lt;/h2&gt;</span>
<span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"wrapper-js"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"container-js marquee"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;p&gt;</span>新浪新闻<span class="nt">&lt;/p&gt;</span>
        <span class="nt">&lt;p&gt;</span>百度新闻<span class="nt">&lt;/p&gt;</span>
        <span class="nt">&lt;p&gt;</span>网易新闻<span class="nt">&lt;/p&gt;</span>
        <span class="nt">&lt;p&gt;</span>搜狗新闻<span class="nt">&lt;/p&gt;</span><span class="c">&lt;!-- 辅助元素，为实现循环轮播 --&gt;</span>
    <span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;h2&gt;</span>CSS实现<span class="nt">&lt;/h2&gt;</span>
<span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"wrapper-css"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"container-css marquee"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;p&gt;</span>新浪新闻<span class="nt">&lt;/p&gt;</span>
        <span class="nt">&lt;p&gt;</span>百度新闻<span class="nt">&lt;/p&gt;</span>
        <span class="nt">&lt;p&gt;</span>网易新闻<span class="nt">&lt;/p&gt;</span>
        <span class="nt">&lt;p&gt;</span>搜狗新闻<span class="nt">&lt;/p&gt;</span><span class="c">&lt;!-- 辅助元素，为实现循环轮播 --&gt;</span>
    <span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"assets/js/index.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</code></pre>
</div>

<ul>
  <li>js文件</li>
</ul>

<p>assets/js/index.js</p>

<div class="language-js highlighter-rouge"><pre class="highlight"><code><span class="cm">/**
 * [marquee 轮播效果]
 * @param  {[type]} ele      [轮播元素容器]
 * @param  {[type]} delay    [轮播间隔时间]
 * @param  {[type]} duration [轮播动画时间]
 * @return {[type]}          [description]
 */</span>
<span class="kd">function</span> <span class="nx">marquee</span><span class="p">(</span><span class="nx">ele</span><span class="p">,</span> <span class="nx">delay</span><span class="p">,</span> <span class="nx">duration</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">ele</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="kc">false</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="nx">delay</span> <span class="o">=</span> <span class="nx">delay</span> <span class="o">||</span> <span class="mi">2000</span><span class="p">;</span>
    <span class="nx">duration</span> <span class="o">=</span> <span class="nx">duration</span> <span class="o">||</span> <span class="mi">500</span><span class="p">;</span>
    <span class="kd">var</span> <span class="nx">height</span> <span class="o">=</span> <span class="nx">ele</span><span class="p">.</span><span class="nx">clientHeight</span><span class="p">;</span>
    <span class="kd">var</span> <span class="nx">active</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
    <span class="kd">var</span> <span class="nx">len</span> <span class="o">=</span> <span class="nx">ele</span><span class="p">.</span><span class="nx">querySelectorAll</span><span class="p">(</span><span class="s1">'p'</span><span class="p">).</span><span class="nx">length</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span>

    <span class="nx">setTimeout</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="nx">active</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
        <span class="nx">ele</span><span class="p">.</span><span class="nx">scrollTop</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
        <span class="nx">setInterval</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">active</span><span class="p">)</span> <span class="k">return</span><span class="p">;</span>

            <span class="k">if</span> <span class="p">(</span><span class="nx">ele</span><span class="p">.</span><span class="nx">scrollTop</span> <span class="o">%</span> <span class="nx">height</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">active</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
                <span class="nx">setTimeout</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
                    <span class="nx">active</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
                    <span class="nx">ele</span><span class="p">.</span><span class="nx">scrollTop</span> <span class="o">+=</span> <span class="mi">1</span><span class="p">;</span>
                <span class="p">},</span> <span class="nx">delay</span><span class="p">);</span>
                <span class="k">if</span> <span class="p">(</span><span class="nx">ele</span><span class="p">.</span><span class="nx">scrollTop</span> <span class="o">==</span> <span class="nx">len</span> <span class="o">*</span> <span class="nx">height</span><span class="p">)</span> <span class="p">{</span>
                    <span class="nx">ele</span><span class="p">.</span><span class="nx">scrollTop</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
                <span class="p">}</span>
            <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
                <span class="nx">ele</span><span class="p">.</span><span class="nx">scrollTop</span> <span class="o">+=</span> <span class="mi">1</span><span class="p">;</span>
            <span class="p">}</span>
        <span class="p">},</span> <span class="nx">duration</span> <span class="o">/</span> <span class="nx">height</span><span class="p">);</span>
    <span class="p">},</span> <span class="nx">delay</span><span class="p">);</span>
<span class="p">}</span>

<span class="nx">marquee</span><span class="p">(</span><span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="s1">'.marquee'</span><span class="p">));</span>
</code></pre>
</div>
<ul>
  <li>样式文件</li>
</ul>

<p>assets/css/demo.css</p>

<div class="language-css highlighter-rouge"><pre class="highlight"><code><span class="nc">.marquee</span> <span class="nt">p</span><span class="p">{</span>
    <span class="nl">z-index</span><span class="p">:</span> <span class="m">99999</span><span class="p">;</span>
    <span class="nl">display</span><span class="p">:</span> <span class="nb">block</span><span class="p">;</span>
    <span class="nl">width</span><span class="p">:</span> <span class="m">100%</span><span class="p">;</span>
    <span class="nl">padding</span><span class="p">:</span> <span class="m">0px</span><span class="p">;</span>
    <span class="nl">text-align</span><span class="p">:</span> <span class="nb">center</span><span class="p">;</span>
    <span class="nl">color</span><span class="p">:</span> <span class="m">#333</span><span class="p">;</span>
    <span class="nl">background</span><span class="p">:</span> <span class="m">#77e6e5</span><span class="p">;</span>
    <span class="nl">line-height</span><span class="p">:</span> <span class="m">24px</span><span class="p">;</span>
    <span class="nl">font-size</span><span class="p">:</span> <span class="m">14px</span><span class="p">;</span>
<span class="p">}</span>


<span class="nc">.wrapper-js</span> <span class="p">{</span>
    <span class="nl">width</span><span class="p">:</span> <span class="m">200px</span><span class="p">;</span>
    <span class="nl">height</span><span class="p">:</span> <span class="m">30px</span><span class="p">;</span>
    <span class="nl">margin</span><span class="p">:</span> <span class="m">10px</span><span class="p">;</span>
<span class="p">}</span>
<span class="nc">.container-js</span> <span class="p">{</span>
    <span class="nl">height</span><span class="p">:</span> <span class="m">30px</span><span class="p">;</span>
    <span class="nl">overflow</span><span class="p">:</span> <span class="nb">hidden</span><span class="p">;</span>
<span class="p">}</span>
<span class="nc">.container-js</span> <span class="nt">p</span> <span class="p">{</span>
    <span class="nl">width</span><span class="p">:</span> <span class="m">100%</span><span class="p">;</span>
    <span class="nl">height</span><span class="p">:</span> <span class="m">30px</span><span class="p">;</span>
    <span class="nl">margin</span><span class="p">:</span> <span class="m">0</span><span class="p">;</span>
    <span class="nl">line-height</span><span class="p">:</span> <span class="m">30px</span><span class="p">;</span>
    <span class="nl">font-size</span><span class="p">:</span> <span class="m">18px</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">@-webkit-keyframes</span> <span class="n">marquee</span> <span class="p">{</span>
    <span class="nt">0</span><span class="o">%</span> <span class="p">{</span>
        <span class="nl">-webkit-transform</span><span class="p">:</span> <span class="n">translate3d</span><span class="p">(</span><span class="m">0</span><span class="p">,</span> <span class="m">0</span><span class="p">,</span> <span class="m">0</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="nt">27</span><span class="o">%</span> <span class="p">{</span>

        <span class="nl">-webkit-transform</span><span class="p">:</span> <span class="n">translate3d</span><span class="p">(</span><span class="m">0</span><span class="p">,</span> <span class="m">0</span><span class="p">,</span> <span class="m">0</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="nt">33</span><span class="o">%</span> <span class="p">{</span>
        <span class="nl">-webkit-transform</span><span class="p">:</span> <span class="n">translate3d</span><span class="p">(</span><span class="m">0</span><span class="p">,</span> <span class="m">-100%</span><span class="p">,</span> <span class="m">0</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="nt">60</span><span class="o">%</span> <span class="p">{</span>
        <span class="nl">-webkit-transform</span><span class="p">:</span> <span class="n">translate3d</span><span class="p">(</span><span class="m">0</span><span class="p">,</span> <span class="m">-100%</span><span class="p">,</span> <span class="m">0</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="nt">67</span><span class="o">%</span> <span class="p">{</span>
        <span class="nl">-webkit-transform</span><span class="p">:</span> <span class="n">translate3d</span><span class="p">(</span><span class="m">0</span><span class="p">,</span> <span class="m">-200%</span><span class="p">,</span> <span class="m">0</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="nt">94</span><span class="o">%</span> <span class="p">{</span>
        <span class="nl">-webkit-transform</span><span class="p">:</span> <span class="n">translate3d</span><span class="p">(</span><span class="m">0</span><span class="p">,</span> <span class="m">-200%</span><span class="p">,</span> <span class="m">0</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="nt">100</span><span class="o">%</span> <span class="p">{</span>
        <span class="nl">-webkit-transform</span><span class="p">:</span> <span class="n">translate3d</span><span class="p">(</span><span class="m">0</span><span class="p">,</span> <span class="m">-300%</span><span class="p">,</span> <span class="m">0</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
<span class="k">@keyframes</span> <span class="n">marquee</span> <span class="p">{</span>
    <span class="nt">0</span><span class="o">%</span> <span class="p">{</span>
        <span class="nl">transform</span><span class="p">:</span> <span class="n">translate3d</span><span class="p">(</span><span class="m">0</span><span class="p">,</span> <span class="m">0</span><span class="p">,</span> <span class="m">0</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="c">/* 100/3 * (2s/2.5s) =&gt; 26.7% =&gt; 27% */</span>
    <span class="nt">27</span><span class="o">%</span> <span class="p">{</span>
        <span class="nl">transform</span><span class="p">:</span> <span class="n">translate3d</span><span class="p">(</span><span class="m">0</span><span class="p">,</span> <span class="m">0</span><span class="p">,</span> <span class="m">0</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="c">/* 100/3 =&gt;33.3 =&gt; 33% */</span>
    <span class="nt">33</span><span class="o">%</span> <span class="p">{</span>
        <span class="nl">transform</span><span class="p">:</span> <span class="n">translate3d</span><span class="p">(</span><span class="m">0</span><span class="p">,</span> <span class="m">-100%</span><span class="p">,</span> <span class="m">0</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="nt">60</span><span class="o">%</span> <span class="p">{</span>
        <span class="nl">transform</span><span class="p">:</span> <span class="n">translate3d</span><span class="p">(</span><span class="m">0</span><span class="p">,</span> <span class="m">-100%</span><span class="p">,</span> <span class="m">0</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="nt">67</span><span class="o">%</span> <span class="p">{</span>
        <span class="nl">transform</span><span class="p">:</span> <span class="n">translate3d</span><span class="p">(</span><span class="m">0</span><span class="p">,</span> <span class="m">-200%</span><span class="p">,</span> <span class="m">0</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="nt">94</span><span class="o">%</span> <span class="p">{</span>
        <span class="nl">transform</span><span class="p">:</span> <span class="n">translate3d</span><span class="p">(</span><span class="m">0</span><span class="p">,</span> <span class="m">-200%</span><span class="p">,</span> <span class="m">0</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="nt">100</span><span class="o">%</span> <span class="p">{</span>
        <span class="nl">transform</span><span class="p">:</span> <span class="n">translate3d</span><span class="p">(</span><span class="m">0</span><span class="p">,</span> <span class="m">-300%</span><span class="p">,</span> <span class="m">0</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
<span class="nc">.wrapper-css</span> <span class="p">{</span>
    <span class="nl">width</span><span class="p">:</span> <span class="m">200px</span><span class="p">;</span>
    <span class="nl">height</span><span class="p">:</span> <span class="m">30px</span><span class="p">;</span>
    <span class="nl">margin</span><span class="p">:</span> <span class="m">10px</span><span class="p">;</span>
    <span class="nl">overflow</span><span class="p">:</span> <span class="nb">hidden</span><span class="p">;</span>
<span class="p">}</span>
<span class="nc">.container-css</span> <span class="p">{</span>
    <span class="nl">height</span><span class="p">:</span> <span class="m">30px</span><span class="p">;</span>
    <span class="nl">-webkit-animation</span><span class="p">:</span> <span class="n">marquee</span> <span class="m">7.5s</span> <span class="n">linear</span> <span class="n">infinite</span><span class="p">;</span><span class="c">/* 2.5s(2s + 0.5s) * 3 =&gt; 7.5s */</span>
    <span class="nl">animation</span><span class="p">:</span> <span class="n">marquee</span> <span class="m">7.5s</span> <span class="n">linear</span> <span class="n">infinite</span><span class="p">;</span>
<span class="p">}</span>
<span class="nc">.container-css</span> <span class="nt">p</span> <span class="p">{</span>
    <span class="nl">width</span><span class="p">:</span> <span class="m">100%</span><span class="p">;</span>
    <span class="nl">height</span><span class="p">:</span> <span class="m">30px</span><span class="p">;</span>
    <span class="nl">margin</span><span class="p">:</span> <span class="m">0</span><span class="p">;</span>
    <span class="nl">line-height</span><span class="p">:</span> <span class="m">30px</span><span class="p">;</span>
    <span class="nl">font-size</span><span class="p">:</span> <span class="m">18px</span><span class="p">;</span>
<span class="p">}</span>
</code></pre>
</div>

<html lang="en">
<head>
    <meta charset="UTF-8" />
    <title>轮播示列</title>
    <link rel="stylesheet" href="assets/css/demo.css" />
    <style>
    .marquee p{
        z-index: 99999;
        display: block;
        width: 100%;
        padding: 0px;
        text-align: center;
        color: #333;
        background: #77e6e5;
        line-height: 24px;
        font-size: 14px;
    }

    .marqueejs p{
        background: #ea3b3b;
        color: #fff;
    }


    .wrapper-js {
        width: 200px;
        height: 30px;
        margin: 10px;
    }
    .container-js {
        height: 30px;
        overflow: hidden;
    }
    .container-js p {
        width: 100%;
        height: 30px;
        margin: 0;
        line-height: 30px;
        font-size: 18px;
    }

    @-webkit-keyframes marquee {
        0% {
            -webkit-transform: translate3d(0, 0, 0);
        }
        27% {

            -webkit-transform: translate3d(0, 0, 0);
        }
        33% {
            -webkit-transform: translate3d(0, -100%, 0);
        }
        60% {
            -webkit-transform: translate3d(0, -100%, 0);
        }
        67% {
            -webkit-transform: translate3d(0, -200%, 0);
        }
        94% {
            -webkit-transform: translate3d(0, -200%, 0);
        }
        100% {
            -webkit-transform: translate3d(0, -300%, 0);
        }
    }
    @keyframes marquee {
        0% {
            transform: translate3d(0, 0, 0);
        }
        /* 100/3 * (2s/2.5s) => 26.7% => 27% */
        27% {
            transform: translate3d(0, 0, 0);
        }
        /* 100/3 =>33.3 => 33% */
        33% {
            transform: translate3d(0, -100%, 0);
        }
        60% {
            transform: translate3d(0, -100%, 0);
        }
        67% {
            transform: translate3d(0, -200%, 0);
        }
        94% {
            transform: translate3d(0, -200%, 0);
        }
        100% {
            transform: translate3d(0, -300%, 0);
        }
    }
    .wrapper-css {
        width: 200px;
        height: 30px;
        margin: 10px;
        overflow: hidden;
    }
    .container-css {
        height: 30px;
        -webkit-animation: marquee 7.5s linear infinite;/* 2.5s(2s + 0.5s) * 3 => 7.5s */
        animation: marquee 7.5s linear infinite;
    }
    .container-css p {
        width: 100%;
        height: 30px;
        margin: 0;
        line-height: 30px;
        font-size: 18px;
    }
    </style>
</head>
<body>
<h2>Js实现</h2>
<div class="wrapper-js">
    <div class="container-js marquee marqueejs">
        <p>新浪新闻</p>
        <p>百度新闻</p>
        <p>网易新闻</p>
        <p>搜狗新闻</p><!-- 辅助元素，为实现循环轮播 -->
    </div>
</div>
<h2>CSS实现</h2>
<div class="wrapper-css">
    <div class="container-css marquee">
        <p>新浪新闻</p>
        <p>百度新闻</p>
        <p>网易新闻</p>
        <p>搜狗新闻</p><!-- 辅助元素，为实现循环轮播 -->
    </div>
</div>
</body>
<script>
/**
 * [marquee 轮播效果]
 * @param  {[type]} ele      [轮播元素容器]
 * @param  {[type]} delay    [轮播间隔时间]
 * @param  {[type]} duration [轮播动画时间]
 * @return {[type]}          [description]
 */
function marquee(ele, delay, duration) {
    if (!ele) {
        return false;
    }

    delay = delay || 2000;
    duration = duration || 500;
    var height = ele.clientHeight;
    var active = true;
    var len = ele.querySelectorAll('p').length - 1;

    setTimeout(function() {
        active = true;
        ele.scrollTop = 1;
        setInterval(function() {
            if (!active) return;

            if (ele.scrollTop % height === 0) {
                active = false;
                setTimeout(function() {
                    active = true;
                    ele.scrollTop += 1;
                }, delay);
                if (ele.scrollTop == len * height) {
                    ele.scrollTop = 0;
                }
            } else {
                ele.scrollTop += 1;
            }
        }, duration / height);
    }, delay);
}

marquee(document.querySelector('.marquee'));</script>
</html>

<ul>
  <li><a href="http://www.browsersync.cn">BrowserSync官网</a></li>
  <li><a href="http://www.browsersync.cn/docs/api/">BrowserSync API说明文档</a></li>
  <li><a href="">轮播项目实战</a></li>
</ul>

  </div>

  
</article>

      </div>
    </main>

    <footer class="site-footer">

  <div class="wrapper">

    <h2 class="footer-heading">小浪Blog</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li>
            
              小浪Blog
            
            </li>
            
            <li><a href="mailto:474647150@qq.com">474647150@qq.com</a></li>
            
        </ul>
      </div>

      <div class="footer-col footer-col-2">
        <ul class="social-media-list">
          
          <li>
            <a href="https://github.com/cjjmem"><span class="icon icon--github"><svg viewBox="0 0 16 16" width="16px" height="16px"><path fill="#828282" d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761 c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32 c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472 c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037 C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65 c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261 c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082 c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129 c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"/></svg>
</span><span class="username">cjjmem</span></a>

          </li>
          

          
        </ul>
      </div>

      <div class="footer-col footer-col-3">
        <p>其實很簡單</p>
      </div>
    </div>

  </div>

</footer>


  </body>

</html>
